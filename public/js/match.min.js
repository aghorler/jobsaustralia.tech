function printJob(e,t,n,a,r,l,o,c,d,i,p,s){var m=document.getElementById("jobs"),u=document.createElement("div");u.className="panel panel-default";var y=document.createElement("div");y.className="panel-heading",y.innerHTML+=t+" &bull; ";var g=document.createElement("strong");g.innerHTML=s+"&#37;";var h=document.createElement("div");h.className="panel-body";var E=document.createElement("p");E.innerHTML=n;var v=document.createElement("hr"),f=document.createElement("p"),b=document.createElement("strong");f.innerHTML="fulltime"==a?"Full time":"parttime"==a?"Part time":"Casual",b.innerHTML="Hours: ";var L=document.createElement("p"),B=document.createElement("strong");L.innerHTML="&#36;"+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),L.innerHTML+="hourly"==r?" per hour":"weekly"==r?" per week":"fortnightly"==r?" per fortnight":"monthly"==r?" per month":" per annum",B.innerHTML="Salary: ";var I=document.createElement("p"),T=document.createElement("strong");I.innerHTML=o,T.innerHTML="Start date: ";var M=document.createElement("p"),k=document.createElement("strong");M.innerHTML=d,M.innerHTML+="vic"==c?", Victoria":"nsw"==c?", New South Wales":"qld"==c?", Queensland":"wa"==c?", Western Australia":"sa"==c?", South Australia":"ta"==c?", Tasmania":"act"==c?", Australian Capital Territory":"nt"==c?", Northern Territory":", Other Australian Region",k.innerHTML="Location: ";var H=document.createElement("p"),w=document.createElement("strong");w.innerHTML="Employer: ";var j=document.createElement("a");j.href="/employer/"+p,j.innerHTML=i;var S=document.createElement("hr"),N=document.createElement("p"),x=document.createElement("a");x.className="btn btn-primary",x.href="/job/"+e,x.innerHTML="View",u.appendChild(y),u.appendChild(h),y.append(g),h.append(E),h.append(v),h.append(f),f.prepend(b),h.append(L),L.prepend(B),h.append(I),I.prepend(T),h.append(M),M.prepend(k),h.append(H),H.append(j),H.prepend(w),h.append(S),h.append(N),N.append(x),m.appendChild(u),document.getElementById("loading").style.display="none"}function match(){if(null!==document.getElementById("state"))e="/api/jobs/state/"+document.getElementById("state").value;else var e="/api/jobs/employer/"+document.getElementById("employerid").value;var t,n=document.getElementsByName("csrf-token")[0].content,a=[],r=[],l=[],o=[];$.getJSON("/api/user/token/"+n,function(e){t=parseInt(""+e.java+e.python+e.c+e.csharp+e.cplus+e.php+e.html+e.css+e.javascript+e.sql+e.unix+e.winserver+e.windesktop+e.linuxdesktop+e.macosdesktop+e.pearl+e.bash+e.batch+e.cisco+e.office+e.r+e.go+e.ruby+e.asp+e.scala+e.cow,2)}).then(function(){$.getJSON(e+"/token/"+n,function(e){if(e.length>0){for(u=0;u<e.length;u++){o[u]=e[u],a[u]=u,r[u]=parseInt(""+e[u].java+e[u].python+e[u].c+e[u].csharp+e[u].cplus+e[u].php+e[u].html+e[u].css+e[u].javascript+e[u].sql+e[u].unix+e[u].winserver+e[u].windesktop+e[u].linuxdesktop+e[u].macosdesktop+e[u].pearl+e[u].bash+e[u].batch+e[u].cisco+e[u].office+e[u].r+e[u].go+e[u].ruby+e[u].asp+e[u].scala+e[u].cow,2);var n=t|r[u],c=n.toString(2);c<0&&(c=(c=(n>>>0).toString(2)).slice(-26));var d=c.replace(/[^1]/g,"").length,i=t&r[u],p=i.toString(2);p<0&&(p=(p=(i>>>0).toString(2)).slice(-26));var s=p.replace(/[^1]/g,"").length;l[u]=s/d*100,s==(""+e[u].java+e[u].python+e[u].c+e[u].csharp+e[u].cplus+e[u].php+e[u].html+e[u].css+e[u].javascript+e[u].sql+e[u].unix+e[u].winserver+e[u].windesktop+e[u].linuxdesktop+e[u].macosdesktop+e[u].pearl+e[u].bash+e[u].batch+e[u].cisco+e[u].office+e[u].r+e[u].go+e[u].ruby+e[u].asp+e[u].scala+e[u].cow).replace(/[^1]/g,"").length&&(l[u]=100)}var m;do{m=!1;var u;for(u=0;u<a.length-1;u++)if(l[u]<l[u+1]){var y=l[u];l[u]=l[u+1],l[u+1]=y;var g=a[u];a[u]=a[u+1],a[u+1]=g;var h=r[u];r[u]=r[u+1],r[u+1]=h,m=!0}}while(m)}}).then(function(){if(o.length>0){var e;for(e=0;e<o.length;e++){var t=a[e];printJob(o[t].id,o[t].title,o[t].description,o[t].hours,o[t].rate,o[t].salary,o[t].startdate,o[t].state,o[t].city,o[t].employername,o[t].employerid,Math.round(l[e]))}}else document.getElementById("loading").style.display="none",document.getElementById("nomatches").style.display="block"}).fail(function(){document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block"})}).fail(function(){document.getElementById("loading").style.display="none",document.getElementById("error").style.display="block"})}function init(){document.getElementById("jobs").innerHTML="",document.getElementById("noscript").style.display="none",document.getElementById("nomatches").style.display="none",document.getElementById("error").style.display="none",document.getElementById("loading").style.display="block",match()}document.addEventListener("DOMContentLoaded",init),null!==document.getElementById("state")&&document.getElementById("state").addEventListener("change",init);
